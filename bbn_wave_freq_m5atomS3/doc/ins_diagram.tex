\documentclass[11pt]{article}
\usepackage{fullpage}
\usepackage{amsmath, amssymb}
\usepackage{plantuml} % requires plantuml + java installed


%\makeatletter
%\def\plantuml{\@ifnextchar[{\plantuml@}{\plantuml@[png]}}
%\def\plantuml@[#1]#2{%
%  \immediate\write18{plantuml -t#1 -o /tmp/plantuml #2}%
%  \includegraphics{#2.#1}%
%}
%\makeatother


% Configure plantuml for output directory
%\plantumlset{outputdirectory=./}

\begin{document}

\begin{plantuml}
@startuml ins_diagram
skinparam linetype ortho
rectangle "IMU" as IMU
rectangle "AHRS (Mahony, KalmanQMEKF)" as AHRS

IMU --> AHRS : "accel"
IMU --> AHRS : "gyro"
IMU --> AHRS : "magn"
@enduml
\end{plantuml}

\end{document}
